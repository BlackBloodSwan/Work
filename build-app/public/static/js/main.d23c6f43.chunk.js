(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{126:function(e,t,a){e.exports=a(209)},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(3),l=a.n(o),c=(a(55),a(17)),s=a.n(c),i=a(30),u=a(43),m=a(44),p=a(68),d=a(62),h=a(69),g=a(114),f=(a(132),a(211)),v=a(213),b=a(214),k=a(215),y=a(63),j=a.n(y);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){Object(g.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=v.a.Option,x=f.a.Content,S=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).selectAfter=function(){return r.a.createElement(v.a,{placeholder:"Select Email Ending",style:{width:200},onChange:function(t){return e.onSelectChange(t)}},r.a.createElement(w,{value:"@mediamarktsaturn.com"},"@mediamarktsaturn.com"),r.a.createElement(w,{value:"@mediamarktsaturn.de"},"@mediamarktsaturn.de"))},e.onSelectChange=function(t){e.setState({selectedOption:t}),console.log(t)},e.submit=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.setState(O({},e.state,{loading:!0})),n={project_id:e.state.valueProjectID,role:e.state.valueRole,e_mail:e.state.valueEmail+e.state.selectedOption},console.log(n),fetch("https://auto-iam-api-bg4m6eql4q-ew.a.run.app/add_user_to_binding",{method:"POST",mode:"cors",headers:{"Content-type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),e.setState(O({},e.state,{loading:!1})),k.a.info({title:"The user has been assigned to the role"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.check=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage.getItem("access_token"),t.next=4,j.a.get("https://cloudresourcemanager.googleapis.com/v1/projects/"+e.state.valueProjectID,{headers:{Authorization:"Bearer ".concat(a)}});case 4:n=t.sent,console.log(n),n.data.projectId?k.a.info({title:"Project exist!"}):k.a.error({title:"This Project ID is not correct",content:"Please look if the spelling is right."}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),k.a.error({title:"Api is not reachable ",content:"This is the "+t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),e.handleChangeProjectID=function(t){console.log(t.target.value),e.setState(O({},e.state,{valueProjectID:t.target.value}))},e.handleChangeRole=function(t){console.log(t.target.value),e.setState(O({},e.state,{valueRole:t.target.value}))},e.handleChangeEmail=function(t){console.log(t.target.value),e.setState(O({},e.state,{valueEmail:t.target.value}))},e.state={loading:!1,response:null,value:""},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(x,{style:{padding:"0 50px",textAlign:"left"}},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("form",{onSubmit:this.submit},r.a.createElement("br",null),"Project-ID :",r.a.createElement(b.a,{required:!0,placeholder:"input in small letters",type:"text",value:this.state.valueProjectID,onChange:this.handleChangeProjectID}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Role :",r.a.createElement(b.a,{required:!0,placeholder:"first letter in upper case",type:"text",value:this.state.valueRole,onChange:this.handleChangeRole})),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("label",null,"E-Mail :",r.a.createElement(b.a,{required:!0,placeholder:"input in small letters",addonAfter:this.selectAfter(),type:"text",value:this.state.valueEmail,onChange:this.handleChangeEmail})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"}," Submit ")),r.a.createElement("form",null,r.a.createElement("br",null),r.a.createElement("button",{onClick:this.check,type:"button"}," Check Project-ID "))))))}}]),t}(n.Component),I=a(123),P=a.n(I),_=new(function(){function e(t){Object(u.a)(this,e),this.client=j.a.create({baseURL:t})}return Object(m.a)(e,[{key:"requestToken",value:function(e){return this.client.get("https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=".concat(e))}}]),e}())("http://127.0.0.1:5000");function C(){return(C=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.prev=1,e.next=4,_.requestToken(t);case 4:return n=e.sent,["schimmerd@mediamarktsaturn.com","seitzf@mediamarktsaturn.com","raudizs@mediamarktsaturn.com","handschuhj@mediamarktsaturn.com","hoke@mediamarktsaturn.com","gerstmeyer@mediamarktsaturn.com","goppold@mediamarktsaturn.com","schallado@mediamarktsaturn.de","domenicschalla@gmail.com"].indexOf(n.data.email)>-1?(localStorage.setItem("token",t),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user_profile",JSON.stringify({status:200,profile:{email:n.data.email,email_verified:n.data.email_verified,expires_in:n.data.exp,family_name:n.data.family_name,given_name:n.data.given_name,name:n.data.name,picture:n.data.picture,locale:n.data.locale,domain:n.data.hd}})),a={status:200,desc:"Ok: Token still valid"}):a={status:401,desc:"Unauthorized"},e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{status:400,error:"Invalid value or token expired",desc:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}var D=function(e){return C.apply(this,arguments)},A=a(212),T=f.a.Header,L=f.a.Content,q=f.a.Footer,N=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).responseGoogle=function(){var t=Object(i.a)(s.a.mark((function t(a){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,D(a.Zi.id_token);case 3:n=t.sent,localStorage.setItem("access_token",a.Zi.access_token),200!==n.status?console.log(n):e.setState({isLoggedIn:!0});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.failure=function(e){console.log(e)},e.state={isLoggedIn:!1},e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(localStorage.getItem("token"));case 2:200!==(t=e.sent).status?(console.log(t),localStorage.clear()):this.setState({isLoggedIn:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(f.a,{className:"layout"},r.a.createElement(T,{style:{position:"relative",textAlign:"left"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(A.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],style:{lineHeight:"64px"}},r.a.createElement(A.a.Item,{key:"1"},"Add User to binding"))),r.a.createElement(L,{style:{padding:"100 100px",position:"relative",textAlign:"center"}},r.a.createElement("div",{className:"App"},!1===this.state.isLoggedIn?r.a.createElement(P.a,{clientId:"583258145332-nc2pi59numak156h8boc49easpo22jp5.apps.googleusercontent.com",buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.failure,cookiePolicy:"single_host_origin",scope:"https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/cloud-platform.read-only"}):r.a.createElement(S,null))),r.a.createElement(q,{style:{textAlign:"center"}},"Made with Love by Data Access Team"))}}]),t}(n.Component);l.a.render(r.a.createElement(N,null),document.getElementById("root"))},55:function(e,t,a){}},[[126,1,2]]]);
//# sourceMappingURL=main.d23c6f43.chunk.js.map